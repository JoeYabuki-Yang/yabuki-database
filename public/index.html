</div> <script> // Rarity badges and event catalogs (for dropdown options) const RARITY_BADGES = { "Common": "🔵𝙍𝘼𝙍𝙄𝙏𝙔: Common", "Medium": "🔴𝙍𝘼𝙍𝙄𝙏𝙔: Medium", "Rare": "🟠𝙍𝘼𝙍𝙄𝙏𝙔: Rare", "Legendary": "🟡𝙍𝘼𝙍𝙄𝙏𝙔: Legendary", "Limited Edition": "🔮𝙍𝘼𝙍𝙄𝙏𝙔: Limited Edition", "Celestial": "🎐𝙍𝘼𝙍𝙄𝙏𝙔: Celestial" }; const EVENT_SETS = { limitedEdition: [ "🏀𝑩𝒂𝒔𝒌𝒆𝒕𝒃𝒂𝒍𝒍🏀","🐰𝑩𝒖𝒏𝒏𝒚🐰","🎄𝑪𝒉𝒓𝒊𝒔𝒕𝒎𝒂𝒔🎄","🎃𝑯𝒂𝒍𝒍𝒐𝒘𝒆𝒆𝒏🎃","👘𝑲𝒊𝒎𝒐𝒏𝒐👘","🧹𝑴𝒂𝒊𝒅🧹","🎸𝑴𝒖𝒔𝒊𝒄𝒊𝒂𝒏🎸","🚓𝑶𝒇𝒇𝒊𝒄𝒆𝒓🚓","🎒𝑺𝒄𝒉𝒐𝒐𝒍🎒","🏖𝑺𝒖𝒎𝒎𝒆𝒓🏖","☃️𝑾𝒊𝒏𝒕𝒆𝒓☃️" ], celestialWaifu: [ "🀄️𝑨𝒃𝒃𝒆𝒔𝒔🀄️","💍𝑩𝒓𝒊𝒅𝒆💍","🎊𝑪𝒉𝒆𝒆𝒓𝒍𝒆𝒂𝒅𝒆𝒓𝒔🎊","🩺 𝑵𝒖𝒓𝒔𝒆 🩺","🥻𝑺𝒂𝒓𝒆𝒆🥻","🎾𝑻𝒆𝒏𝒏𝒊𝒔🎾","💞𝑽𝒂𝒍𝒆𝒏𝒕𝒊𝒏𝒆💞" ], celestialHusbando: [ "🏁𝑹𝒂𝒄𝒆𝒓🏁","💞𝑽𝒂𝒍𝒆𝒏𝒕𝒊𝒏𝒆💞","🏴☠️𝑷𝒊𝒓𝒂𝒕𝒆🏴☠️","🩺𝑫𝒐𝒄𝒕𝒐𝒓🩺","🎩𝑻𝒖𝒙𝒆𝒅𝒐🎩" ] }; // DOM refs const els = { grid: document.getElementById('grid'), state: document.getElementById('state'), category: document.getElementById('categorySelect'), rarity: document.getElementById('raritySelect'), event: document.getElementById('eventSelect'), clear: document.getElementById('clearBtn'), chips: document.getElementById('chips') }; let allCharacters = []; // full dataset let filtered = []; // current view function rarityClass(r){ switch(r){ case 'Common': return 'common'; case 'Medium': return 'medium'; case 'Rare': return 'rare'; case 'Legendary': return 'legendary'; case 'Limited Edition': return 'limited'; case 'Celestial': return 'celestial'; default: return ''; } } // Build Event options dynamically based on current Category/Rarity selections function rebuildEventOptions(){ const cat = els.category.value; const rar = els.rarity.value; const opts = new Set(); // Always keep "All Events" first els.event.innerHTML = '<option value="">All Events</option>'; // Collect relevant events for selected rarity/category if (rar === 'Limited Edition') { EVENT_SETS.limitedEdition.forEach(v => opts.add(v)); } else if (rar === 'Celestial') { if (cat === 'Waifu') EVENT_SETS.celestialWaifu.forEach(v => opts.add(v)); if (cat === 'Husbando') EVENT_SETS.celestialHusbando.forEach(v => opts.add(v)); } // Add options if any opts.forEach(v => { const o = document.createElement('option'); o.value = v; o.textContent = v; els.event.appendChild(o); }); } function renderChips(){ els.chips.innerHTML = ''; const items = []; if (els.category.value) items.push({k:'Category', v: els.category.value}); if (els.rarity.value) items.push({k:'Rarity', v: els.rarity.value}); if (els.event.value) items.push({k:'Event', v: els.event.value}); items.forEach(({k,v})=>{ const d = document.createElement('div'); d.className = 'chip'; d.textContent = k+': '+v; els.chips.appendChild(d); }); } // Apply filters: when nothing selected, keep everything (show all by default) function applyFilters(){ const cat = els.category.value; const rar = els.rarity.value; const evt = els.event.value; filtered = allCharacters.filter(item => { const catOk = !cat || item.category === cat; const rarOk = !rar || item.rarity === rar; const evtOk = !evt || item.event === evt; return catOk && rarOk && evtOk; }); renderChips(); renderGrid(filtered); els.state.classList.toggle('hidden', filtered.length > 0); } function renderGrid(list){ els.grid.innerHTML = ''; list.forEach(item=>{ const card = document.createElement('article'); card.className = 'card'; const thumb = document.createElement('div'); thumb.className = 'thumb'; const img = document.createElement('img'); img.loading = 'lazy'; img.alt = item.title || 'Character'; img.src = item.image || ''; thumb.appendChild(img); // Rarity badge const b = document.createElement('div'); b.className = 'badge '+rarityClass(item.rarity); b.textContent = RARITY_BADGES[item.rarity] || ''; thumb.appendChild(b); // Event chip (optional) if(item.event){ const e = document.createElement('div'); e.className = 'event'; e.textContent = item.event; thumb.appendChild(e); } const body = document.createElement('div'); body.className = 'body'; const l1 = document.createElement('div'); l1.className = 'line1'; l1.textContent = 'OwO! Check out this '+(item.category?.toLowerCase()||'character')+'!'; body.appendChild(l1); const l2 = document.createElement('div'); l2.className = 'line2'; const dot = document.createElement('span'); dot.className = 'dot'; const series = document.createElement('span'); series.textContent = (item.series? item.series+' - ':'') + (item.character_id? '#'+item.character_id:''); l2.appendChild(dot); l2.appendChild(series); body.appendChild(l2); const meta = document.createElement('div'); meta.className = 'meta'; const left = document.createElement('div'); left.className='left-meta'; const likes = document.createElement('span'); likes.textContent = '❤ '+(item.likes??0); const views = document.createElement('span'); views.textContent = '👁 '+(item.views??0); left.appendChild(likes); left.appendChild(views); const date = document.createElement('span'); date.textContent = item.date ? new Date(item.date).toLocaleString() : ''; meta.appendChild(left); meta.appendChild(date); body.appendChild(meta); const foot = document.createElement('div'); foot.className = 'footer'; foot.textContent = item.added_by || 'ADDED BY: ROHIT $EXT'; body.appendChild(foot); card.appendChild(thumb); card.appendChild(body); els.grid.appendChild(card); }); } function clearAll(){ els.category.value = ''; els.rarity.value = ''; els.event.value = ''; rebuildEventOptions(); applyFilters(); // with no filters selected, shows all } // Load from JSON manifest. If missing, show a placeholder sample. async function loadCharacters(){ try{ const res = await fetch('/content/characters/manifest.json', {cache:'no-store'}); if (res.ok) { const arr = await res.json(); // sanitize and coerce minimal fields allCharacters = (Array.isArray(arr)?arr:[]).map(x => ({ title: x.title || '', category: x.category || '', rarity: x.rarity || '', event: x.event || '', series: x.series || '', character_id: x.character_id || '', added_by: x.added_by || 'ADDED BY: ROHIT $EXT', likes: Number(x.likes || 0), views: Number(x.views || 0), image: x.image || '', date: x.date || '' })); return; } } catch(e) { // ignore and use fallback } // Fallback sample so page isn't blank (ensure assets/uploads/sample.png exists) allCharacters = [{ title: 'Sample Character', category: 'Waifu', rarity: 'Limited Edition', event: '🎃𝑯𝒂𝒍𝒍𝒐𝒘𝒆𝒆𝒏🎃', series: 'Demo', character_id: '000', added_by: 'ADDED BY: YOU', likes: 0, views: 0, image: '/assets/uploads/sample.png', date: new Date().toISOString() }]; } // Event wiring els.category.addEventListener('change', () => { rebuildEventOptions(); applyFilters(); }); els.rarity.addEventListener('change', () => { rebuildEventOptions(); applyFilters(); }); els.event.addEventListener('change', applyFilters); els.clear.addEventListener('click', clearAll); // Init: load data, show all by default (async function init(){ await loadCharacters(); rebuildEventOptions(); filtered = allCharacters.slice(); // show all initially renderGrid(filtered); els.state.classList.toggle('hidden', filtered.length > 0); })(); </script> </body> </html>
